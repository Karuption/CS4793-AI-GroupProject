<!DOCTYPE html>
<!-- HTML basic layout generated by ChatGPT 3.5 then edited -->
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Bootstrap for styling-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!--Style overrides for background and text color-->
    <!--HTMX loading behavior override. Make the item that shows loading only appear during loading -->
    <style>
        .input-bg {
            background-color: #36393e;
            color: #a7afb8;
        }

        .input-bg:focus {
            background-color: #36393e;
            color: #a7afb8;
        }

        .input-bg:read-only {
            background-color: #36393e;
            color: #a7afb8;
        }

        .background {
            background-color: #282b30;
        }

        .card {
            background-color: #424549;
            color: #a7afb8;
        }

        .htmx-indicator {
            display: none;
        }

        .htmx-request .htmx-indicator {
            display: inline;
        }

        .htmx-request.htmx-indicator {
            display: inline;
        }
    </style>

    <!--Include HTMX. This is the "HX-" attributes on tags-->
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <!--HTMX Sever Side Events addon. This is the "SSE-" attributes on tags-->
    <script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/sse.js"></script>
</head>

<!--chatGPT generated layout for bootstrap card with a submit-->

<body class="background text-white-50">
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">

                        <h5 class="card-title d-flex justify-content-center">Tweet Generation</h5>

                        <!--Start the form. Do a post request to /ragRequest on form submission.-->
                        <!--When submitted show the element with id loading.-->
                        <!--Swap the innerHTML of the element with id generatedText with the response from the post request-->
                        <form id="myForm text-white-50" hx-post="/ragRequest" hx-swap="innerHTML"
                            hx-indicator="#loading" hx-target="#generatedText">

                            <!--Standard text box-->
                            <div class="form-group">
                                <label for="articleTextbox"></label>
                                <input type="text" class="form-control input-bg" name="articleTextbox"
                                    id="articleTextboxFocus" placeholder="Enter Article URL" autofocus>
                            </div>

                            <!--Submit button with spinner inside that is controlled by HTMX-->
                            <div>
                                <button type="submit" class="btn btn-primary d-flex align-items-center">
                                    <div>Submit</div>

                                    <!--Spinner provided by bootstrap-->
                                    <!--Spinner is view is controlled by HTMX events and the overloaded htmx-indicator class-->
                                    <div class="p-0 pl-2 m-0 pb-1 htmx-indicator" id="loading">
                                        <span class="spinner-border spinner-border-sm p-0 m-0"></span>
                                    </div>
                                </button>
                            </div>
                        </form>

                        <!--Container for the generated text that is received from the /ragRequest post request-->
                        <!--This is where the prompt and SSE stream goes-->
                        <div class="px-1 pt-2 pb-0" id="generatedText"></div>
                    </div>
                </div>
            </div>
        </div>

        <!--Bootstrap and dependencies.-->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous" />
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous" />
</body>

</html>